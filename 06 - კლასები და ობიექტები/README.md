## კლასები - ზოგადი მიმოხილვა

გარშემო თუ მიმოიხედავ უამრავ ობიექტს დაინახავ. მაგალითად მონიტორი, მაუსი, მაგიდა, სკამი, საათი და სხვა... პროგრამირებაში ობიექტების აღსაწერად ვიყენებთ კლასებს.
როგორც წესი კლასი შედგება:
 - ინფორმაციისგან - ცვლადები რომლებიც აღწერს ობიექტის მახასიათებლებს.
 - ფუნქციებისგან, რომელიც კლასის ინფორმაციის დასამუშავებლად გამოიყენება.
 - კონსტრუქტორისგან, რომელიც ამ კლასისგან ობიექტის შესაქმნელად გამოიყენება.

ჩვენი პროგრამის დანიშნულებიდან გამომდინარე ვარჩევთ იმ ობიექტებს, რომლის აღწერაც გვინდა და ვქმნით კლასს თითოეული მათგანისათვის. კლასის სინტაქსი ასე გამოიყურება:


```dart
class className {
// fields - კლასის ცლვადები ანუ ობიექტის მახასიათებლები


// კონსტურქტორი

// მეთოდები - კლასში არსებულ ფუნქციებს მეთოდები ეწოდება

}

```

კლასის შექმნისათვის:
 - ვიყენებთ class keyword_ს. რაც დარტს ეუბნება, რომ გვსურს კლასის შექმნა
 - ვუთითებთ კლასის სახელს
 - ფიგურული ფრჩხილების დახმარებით ვქმნით კლასის ტანს. (მსგავსად ფუნქციების, ციკლების, და if სტრუქტურის)
 - კლასის ტანში ვქმნით ცვლადებს ფუნქციებს და კონსტრუქტორს. (ეს სამი არ არის სინტაქსურად სავალდებულო, თუმცა როგორც წესი, გვხვდება თითქმის ყველა კლასში.)

 ახლა წარმოვიდგინოთ რომ ვქმნით მათემატიკურ პროგრამას და გვინდა აღვწეროთ მართკუთხედის ობიექტი.
 
 ```dart
 
class Rectangle {
    double side1 = 0;
    double side2 = 0;

    Rectangle(double a, double b) {
        side1 = a;
        side2 = b;
    }

    double calculatePerimeter() {
        return 2 * (side1 + side2);
    }
}

 ```

 ჩვენს მიერ შედგენილი მართკუთხედის კლასი შედგება:
  - ორიც ცვლადისგან, რომლებშიც ვინახავთ მართკუთხედის ორ გვერდს.
  - კონსტრუქტორის ფუნქციისგან, რომელშიც ვითხოვთ მართკუთხედის ორი გვერდის სიგრძეს.
  - ერთი მეთოდისგან, რომელშიც ვითვლით და ვაბრუნებთ მართკუთხედის პერიმეტრს.

ამ კლასის გამოსაყენებლად უნდა შევქმნათ ობიექტი. ამ შემთხვევაში ამას main ფუნქციაში გავაკეთებთ:

```dart

void main() {
    Rectangle rect1 = Rectangle(3,4);
    double rect1Permiterer = rect1.calculatePerimeter();
    print(rect1Permiterer); // დაბეჭდავს 14_ს
    
    Rectangle rect2 = Rectangle(5.5,8.4);
    double rect2Permiterer = rect2.calculatePerimeter();
    print(rect2Permiterer); // დაბეჭდავს 27.8_ს


}

class Rectangle {
    double sideA = 0;
    double sideB = 0;

    Rectangle(double a, double b) {
        sideA = a;
        sideB = b;
    }

    double calculatePerimeter() {
        return 2 * (sideA + sideB);
    }
}

 ```

 main ფუნქციაში ჩვენ:
 - შევქმენით ორი ცალი Rectangle მონაცემის ტიპის ობიექტი rect1 და rect2.
 - Rectangle ობიექტების შექმნისას გადავაწოდეთ მართკუთხედის გვერდები.
 - ორივე ობიექტზე გამოვიძახეთ calculatePerimeter მეთოდი.
 - დავბეჭდეთ მართკუთხედების პერიმეტრები.

ახლა მოდით ზემოთ გამოყენებული ყველა კონცეფტი და სინტაქსი ცალ-ცალკე დეტალურად განვიხილოთ.

## კლასის ცვლადები
კლასში ცვლადებს გამოვიყენებთ ობიექტთან დაკავშირებული ინფორმაციის შესანახად. მაგალითად თუ გვინდა ჩვენს პროგრამაში აღვწეორთ მანქანა, შეიძლება გამოვიყენოთ ცვლადები მანქანის ფერის, ბრენდის, კარებების რაოდენობის შესანახად და სხვა... ცვლადების რაოდენობა და თუ რომელ მახასიათებლებს შეივინახავთ ამ ცვლადებში მთლიანად დამოკიდებულია ჩვენი პროგრამის დანიშნულებაზე. მოდით ახლა შევქმნათ კლასი User და შევინახოთ კლასს მომხმარებელთან დაკავშირებული რამდენიმე ინფორმაცია.

```dart
class User {
    String firstName = '';
    String lastName = '';
    String email = '';
    int age = 0;
}

```

იმის და მიუხედავად, რომ ამ კლასში არ შეგვიქმნია კონსტრუქტორის ფუნქცია დარტმა ეს ჩვენს მაგივრად გააკეთა. (შექმნა კონსტრუქტორი რომელიც არ იღებს არცერთ პარამეტრს და აბრუნებს User ობიექტს).

მოდით ახლა შევქმნათ User კლასისაგან ობიექტი და მასში შევინახოთ ინფორმაცია მომხმარებელზე: 

```dart

void mian() {
    User giorgi = User();
    giorgi.firstName = 'გიორგი';
    giorgi.lastName = 'ნავდარაშვილი';
    giorgi.email = 'giorgi@gmail.com';
    giorgi.age = 29;

    print(giorgi.firstName); // დაბეჭდავს გიორგი _ ს
}

class User {
    String firstName = '';
    String lastName = '';
    String email = '';
    int age = 0;
}

```

ზემოთ მოცემულ პროგრამაში ჩვენ: 
- ვქმნით ცვლადს სახელად giorgi, რომლის მონაცემის ტიპია User(ჩვენს მიერ შექმნილი კლასი). ამ ცვლადში ვინახავთ User კლასისგან შექმნილ ობიექტს.
- ცვლად giorgi_ს პარამეტრებს (fields, კლასის ცვლადებს) ვანიჭებთ შესაბამის მნიშვნელობებს.
- main ფუნქციის ბოლოს ვბეჭდავთ User ობიექტის ერთერთ პარამეტრს - firstName_ს

## კონსტუქტორი
კონსტრუქტორი არის განსაკუთრებული ფუნქცია, რომელიც ყველა კლასს აქვს. (ჩვენ თუ არ შევქმნით, 'ცარიელ' კონსტრუქტორს დარტი შექმნის).
წინა მაგალითში როცა ცვლად giorgi _ ს შექმნისას, უდრის სიმბოლოს შემდეგ დავწერეთ User() - ამ სინტაქსით სწორედ კლასის კონსტრუქტორს გამოვუძახეთ.
ჩვენს მიერ შექმნილი User კლასის default კონსტრუქტორი (რომელსაც ჩვენ თუ არ შევქმნით დარტი დააგენერირებს) ასე გამოიყურება

```dart
class User {
    String firstName = '';
    String lastName = '';
    String email = '';
    int age = 0;

    User() {

    }
}

```

კონსტრუქტორის ფუნქციის სინტაქსი ჩვეულებრივი ფუნქციის შექმნისაგან ოდნავ განსხვავდება. 
- კონსტრუქტორის დასაბრუნებელი მნიშვნელობის მონაცემის ტიპი და კონსტრუქტორის სახელი ერთ სიტყვაში ერთიანდება, რომელიც ასევე გახლავთ კლასის სახელი
- () მრგვალ ფრჩხილებს შორის კონსტრუქტორის ფუნქციამ შეიძლება მიიღოს პარამეტრები
- {} ფიგურულ ფრჩხილებს შორის შეგვიძლია გვქონდეს ნებისმიერი ტიპის ინსტრუქცია, თუმცა როგორც წესი აქ კლასის ცვლადებს ვანიჭებთ კონსტრუქტორის პარამეტრებში 'მოსულ' მნიშვნელობებს
- კონსტრუქტორის გამოძახებისას ჩვენ კლასისაგან ვქმნით ობიექტს (დაიმახსოვრე, რომ კლასი უბრალოდ გეგმაა/ნახაზი რომლის მიხედვით ჩვენ 'რეალურ' ობიექტებს ვქმნით)

ახლა მოდით გავიხსენოთ ზემოთ ნანახი Rectangle კლასში არსებული კონსტრუქტორის ფუნქცია:

```dart
class Rectangle {
    double sideA = 0;
    double sideB = 0;

    Rectangle(double a, double b) {
        sideA = a;
        sideB = b;
    }

    double calculatePerimeter() {
        return 2 * (sideA + sideB);
    }
}

```

Rectangle კლასში ჩვენ გვაქვს:
 - ორი ცვლადი მართკუთხედის გვერდების აღსაწერად (sideA, sideB)
 - კონსტრუქტორის ფუნქცია
 - მეთოდი calculatePerimeter (მეთოდებზე ანუ კლასის ფუნქციებზე ქვემოთ ვისაუბრებთ)

Rectangle კლასის კონსტრუქტორის ფუნქციას ორი double ტიპის პარამეტრი აქვს: a და b. კონსტრუქტორის ტანში პარამეტრებში მოსულ ინფორმაციას კლასის ცვლადებში ვინახავთ.
ყურადღება მიაქციე, რომ კლასის ცვლადებსა და კონსტრუქტორის პარამეტრებს სხვადასხვა სახელები აქვს. იმის და მიუხედავად, რომ სხვადასხვა სახელები შეიძლება ჩვენთვის უფრო მარტივად გასაგებს ხდიდეს თუ რის გაკეთებას ვცდილობთ ამას უარყოფითი მხარეებიც აქვს:
 - გვიწევს განსხვავებული სახელის მოფიქრება ერთი და იგივე ინფორმაციისთვის. (sideA_ც და a ორივე მართკუთხედის გვერდია)
 - ამ შემთხვევაში განსხვავებული სახელების გამოყენება ზოგადად ცუდი პრაქტიკაა
 - განსხვავებული სახელების გამოყენებისას არ შეგვიძლია გამოვიყენოთ დარტის შემოკლებული სინტაქსი (რასაც მოგვიანებით ვნახავთ)

ახლა მოდით ამ კლასის ფუნქციურად იდენტური ასლი შევქმნათ:

```dart
class Rectangle {
    double sideA = 0;
    double sideB = 0;

    Rectangle(double sideA, double sideB) {
        this.sideA = sideA;
        this.sideB = sideB;
    }

    double calculatePerimeter() {
        return 2 * (sideA + sideB);
    }
}

```

ამ მაგალითშვი ჩვენ კლასის ცვლადებისა და კონსტრუქტორის პარამეტრებისათვის ერთი და იგივე სახელები გამოვიყენეთ. თუმცა იმისთვის, რომ ჩვენც და დარტიც მივხვდეთ, კლასის ცვლადს ვგულისხმობთ თუ კონსტრუქტორის პარამეტრს გამოვიყენეთ this keyword_ი. ეს დარტს (და ჩვენც) გვეუბნება, რომ საუბარი გვაქვს კლასის ცვლადებზე.
this ყოველთვის კლასის ცვლადზე მიუთითებს. ყურადღება მიაქცი, რომ calculatePerimeter ფუნქციაში this keyword_ის გამოყენება არ გვჭირდება რადგან აქ გაურკვევლობა არ არის.

რადგან კლასის ცვლადებისა და კონსტრუქტორის პარამეტრებისათვის ერთი და იმავე სახელებს ვიყენებთ შეგვიძლია კონსტრუქტორის ფუნქცია შევამოკლოთ დარტის სპეციალური სინტაქსის გამოყენებით.

```dart
class Rectangle {
    double sideA;
    double sideB;

    Rectangle(this.sideA, this.sideB);

    double calculatePerimeter() {
        return 2 * (sideA + sideB);
    }
}

```
ამ მაგალითში:
- კონსტრუქტორის ფუნქციას არ აქვს ტანი (საჭიროების შემთხვევაში შეგვიძლია გვქონდეს)
- კონსტრუქტორის პარამეტრების შემდეგ ვსვამთ წერტილ მძიმეს
- პარამეტრების სახელს ვუწერთ this keywords. ეს დარტს ეუბნება, რომ ამ პარამეტრში მოსული ინფორმაცია შეინახოს ამავე სახელის მქონე კლასის ცვლადში.
- მიაქცი ყრადღება, რომ ამ სინტაქსის გამოყენებისას კლასის ცვლადებს აღარ ვანიჭებთ default მნიშვნელობებს. რადგან დარტი დარწმუნებულია, რომ კონსტრუქტორის შექმნისას ამ ცვლადის მნიშვნელობები აუცილებლად მიენიჭებათ. 

ეს სინტაქსი ფუნქციურად იდენტურია ზემოთ გამოყენებულისა, თუმცა კონსტრუქტორის დანიშნულება როგორც წესი გახლავთ კლასის ცვლადების ინფორმაციით 'მომარაგება' ობიექტის შექმნისას. ამიტომაც გვაქვს ეს შემოკლებული სინტქასი დარტში, რომელიც შეიძლება ცოტათი დამაბნეველია მაგრამ მომავალში აუცილებლად დაინახავთ მის უპირატესობას.
დარტში კონსტრუქტორის ფუნქციას კიდევ აქვს ერთი განსაკუთრებული სინტაქსი, რომელზეც მომავალში ვისაუბრებთ. 

რადგან კონსტრუქტორი არის ფუნქცია ჩვენ შეგვიძლია გამოვიყენოთ ეგრედწოდებული სახელიანი პარამეტრები.


```dart

void main() {
  Rectangle rect = Rectangle(sideA: 3, sideB: 4);
  double rectPerimeter = rect.calculatePerimeter();
  print(rectPerimeter);
}

class Rectangle {
  double sideA;
  double sideB;

  Rectangle({required this.sideA,required this.sideB});

  double calculatePerimeter() {
    return 2 * (sideA + sideB);
  }
}

```
ამ მაგალითში ჩვენ უბრალოდ სახელიანი პარამეტრები გამოვიყენეთ, რომლის სინტაქსი ფუნქციების გაკვეთილიდან ჩვენთვის გასაგები უნდა იყოს.


## კლასის ფუნქციები - მეთოდები
თუ კლასის ცვლადები ობიექტის პარამეტრების აღსაწერად გამოიყენება, კლასის მეთოდებს ვიყენებთ ობიექტის ფუნქციონალის აღსაწერად. მეთოდსა და ფუნქციას შორის სინტაქსური სხვაობა არ არსებობს. მაგრამ ფუნქციისაგან განსხვავებით კლასის მეთოდის გამოძახება მხოლოდ ამ კლასისგან შექმნილი ობიექტის დახმარებით შეგვიძლია. ამ სინტაქსს ჩვენ უკვე შევხვდით როდესაც Rectangle კლასის მაგალითს ვიხილავდით. ობიექტის სახელის შემდეგ წირტილის ოპერატორის გამოყენებით შეგვიძლია გამოვიძახოთ მეთოდი. მრგვალი გახსნის და დახურვის ფრჩხილი, როგორც ჩვეულებრივი ფუნქციის შემთხვევაში სავალდებულოა. 

```dart
void main() {
    Rectangle rect = Rectangle(3, 4);
    rect.calculatePerimeter();
}

```

კლასის მეთოდებზე და ზოგადად ფუნქციებზე კურსის განმავლობაში ბევრ მაგალითს ვნახავთ. ჯერჯერობით კი დავიმახსოვროთ, რომ მეთოდი არის ფუნქცია რომელიც კლასის შიგნით არის დაწერილი.


## ობიექტიები

როგორც უკვე ვთქვით კლასი რეალურ სამყაროში არსებული ობიექტების აღსაწერად გამოიყენება. თუმცა კლასი არ შეიცავს ობიექტის შესახებ ინფორმაციას, არამედ აღწერს თუ რა პარამეტრები და ფუნქციონალი შეიძლება ჰქონდეს მას. როდესაც კლასისგან ვქმნით ობიექტს კომპიუტერის მახსოვრობაში გამოიყოფა ადგილი სადაც ობიექტის ინფორმაციები ინახება.
ობიექტის შექმნის სინტაქსი აქამდეც ვნახეთ და ისიც ვთქვით, რომ ობიექტის შესაქმნელად კლასის კონსტრუქტორ ფუნქციას ვიძახებთ. სწორედ კონსტრუქტორის ფუნქციის გამოძახებისას იქმნება ობიექტი და გამოიყოფა კომპიუტერის მახსოვრობაში ადგილი.


## სავარჯიშოები

 - ჩვენს მიერ შექმნილ Rectangle კლასში დაამატე ერთი ფუნქცია სახელად calculateDiagonal, რომელიც მართკუთხედის დიაგონალს გამოიანგარიშებს და დააბრუნებს.

 - შექმენი კლასი სახელად Triangle, ამ კლასში შექმენი ორი double ტიპის ცვლადი სახელად base და height. ამ კლასის კონსტრუქტორის პარამეტრებში მოითხოვე სამკუთხედის base და height მნიშვნელობები და შეინახე ისინი შესაბამის ცვლადებში. შექმენი ფუნქცია სახელად calculateArea რომელიც გამოიანგარიშებს და დააბრუნებს სამკუთხედის ფართობს.
 
 - აირჩიე შენთვის სასურველი რეალური ობიექტი (მონიტორი, მაუსი, სახლი, მანქანა...) შეეცადე აღწერო შენს მიერ შერჩეული ობიექტი კლასის გამოყენებით.

 p.s. გამიხარდება თუ შენს მიერ დაწერილ პროგრამების სქრინშოთებს გამომიგზავნი მესენჯერში, დისქორდზე ან მეილზე: giorgi.navdarashvili@geolab.edu.ge